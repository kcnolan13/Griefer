<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_rvisor2_helmet</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>character_generic</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///initialize
netvars = NO_HANDLE

lobby_scale_decrementor = 0.2
prescaled = false
anim_prescaled = 1

event_inherited()
printf("A DUDE IS BEING MADE")
varWrite("pNum",0)
varWrite("animation_scale",3)
varWrite("player_quit",false)
varWrite("bot",false)
animation_previous = 0
arm_pose_previous = 0
force_jumped = false

mouse_wheel_delay = 0
mouse_wheel_delay_max = 2

varWrite("rank",0)
varWrite("global_rank",9000)

//bparts
bparts_all_init()
bparts_ready[0] = false
bparts_ready[1] = false
bparts_ready[2] = false
bparts_ready[3] = false
bparts_ready[4] = false
bparts_ready[5] = false
bparts_ready[6] = false
bparts_ready[7] = false
bparts_ready[8] = false
bparts_ready[9] = false
bparts_done_ready = false

randomize()

wep_index = ceil(random_range(weapon_placeholder1+1,weapon_placeholder2-1))
assume_weapon(wep_index)
animation_stand()
varWrite("visible",false)
varWrite("animation_speed",SPD_STAND)
visible = true
alarm[1] = 1
alarm[2] = room_speed
//set xy to reasonable numbers
//alarm[3] = room_speed
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>printf("GRAVATAR DESTROY TRIGGERED")
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///sync mod vars recurringly
if not in_match()
{
    sync_mod_vars()
}

alarm[2] = room_speed*5
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///print debug
printf("::: "+string(varRead("pName"))+" gravatr was instantiated with uniqueId #"+string(varRead("uniqueId")))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///all dat ish
if mouse_wheel_delay &gt; 0
mouse_wheel_delay --

if in_match()
{
    x = room_width+400
    y = -400
}
else
{   //sync uniqueId up with your local avatar
    if instance_exists(net_manager.my_doll)
    {
        varWrite("uniqueId",objVarRead(net_manager.my_doll,"uniqueId"))
    }
    varWrite("pName",stat_manager.grav_name)
}

varWrite("animation_speed",SPD_STAND)

if not bparts_done_ready
{
    for (var i=0; i&lt;1; i++)
    {
        if not bparts_ready[i] and room != rm_login
        {
            bparts_ready[i] = bparts_get_ready(i)
        }
    }
    
    bparts_done_ready = true
    
    for (var i=0; i&lt;1; i++)
    {
        if not bparts_ready[i]
            bparts_done_ready = false
    }
    
    if bparts_done_ready 
    {
        printf("::: all bparts ready for grav --&gt; enable grav_ready in stat man!")
        stat_manager.grav_ready = true
        varWrite("visible",true)
        visible = true
    }
}

if room = rm_menu or room = rm_lobby
{
    varWrite("arm_animation_speed",0)
    sync_poses_and_animations()
    
    if menmode() != "stats" or stat_manager.stat_tab = stat_manager.tabs[2]
    {
        varWrite("dude_x",-800)
        if string(varRead("helmet0")) != ""
            gravatar_wipe(id)
    }
}

//printf("::: gravatar x ="+string(x)+", y ="+string(y)+", visible="+string(visible))

//INHERITED EVENT, OF COURSE
event_inherited()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///sync prop with active_weapon_sprite and arm_pose
if real(varRead("prop0")) &gt; 0 and room = rm_menu or room = rm_lobby
{
    varWrite("active_weapon_sprite",varRead("prop0"))
    
    switch real(varRead("prop0"))
    {
        case spr_prop_none:
            varWrite("arm_pose",global.pistol_pose)
            varWrite("active_weapon_prescaler",global.pistol_scale)
        break
        
        case spr_prop:
            varWrite("arm_pose",global.pistol_pose)
            varWrite("active_weapon_prescaler",global.pistol_scale)
        break
        
        case spr_pistol:
            varWrite("arm_pose",global.pistol_pose)
            varWrite("active_weapon_prescaler",global.pistol_scale)
        break
        
        case spr_rifle:
            varWrite("arm_pose",global.rifle_pose)
            varWrite("active_weapon_prescaler",global.rifle_scale)
        break
        
        case spr_torque:
            varWrite("arm_pose",global.torque_pose)
            varWrite("active_weapon_prescaler",global.torque_scale)
        break
        
        case spr_shotgun:
            varWrite("arm_pose",global.shotgun_pose)
            varWrite("active_weapon_prescaler",global.shotgun_scale)
        break
        
        case spr_frag:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.nade_scale)
        break
        
        case spr_flame:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.flame_scale)
        break
        
        case spr_snare:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.snare_scale)
        break
        
        case spr_smoke:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.nade_scale)
        break
        
        case spr_flashbang:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.nade_scale)
        break
        
        case spr_ink:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.nade_scale)
        break
        
        case spr_sticky:
            varWrite("arm_pose",global.nade_pose)
            varWrite("active_weapon_prescaler",global.nade_scale)
        break
        
        case spr_longshot:
            varWrite("arm_pose",global.longshot_pose)
            varWrite("active_weapon_prescaler",global.longshot_scale)
        break
    
        case spr_smg:
            varWrite("arm_pose",global.smg_pose)
            varWrite("active_weapon_prescaler",global.smg_scale)
        break
        
        case spr_lmg:
            varWrite("arm_pose",global.lmg_pose)
            varWrite("active_weapon_prescaler",global.lmg_scale)
        break

        case spr_vulcan:
            varWrite("arm_pose",global.vulcan_pose)
            varWrite("active_weapon_prescaler",global.vulcan_scale)
        break    
        
        case spr_boom:
            varWrite("arm_pose",global.boom_pose)
            varWrite("active_weapon_prescaler",global.boom_scale)
        break
        
        case spr_rocket:
            varWrite("arm_pose",global.rocket_pose)
            varWrite("active_weapon_prescaler",global.rocket_scale)
        break  
        
        case spr_double:
            varWrite("arm_pose",global.double_pose)
            varWrite("active_weapon_prescaler",global.double_scale)
        break  
        
        case spr_stomper:
            varWrite("arm_pose",global.stomper_pose)
            varWrite("active_weapon_prescaler",global.stomper_scale)
        break  
        
        case spr_boltok:
            varWrite("arm_pose",global.boltok_pose)
            varWrite("active_weapon_prescaler",global.boltok_scale)
        break   
        
        case spr_tickler:
            varWrite("arm_pose",global.tickler_pose)
            varWrite("active_weapon_prescaler",global.tickler_scale)
        break 
        
        case spr_thumper:
            varWrite("arm_pose",global.thumper_pose)
            varWrite("active_weapon_prescaler",global.thumper_scale)
        break 
        
        case spr_carbine:
            varWrite("arm_pose",global.carbine_pose)
            varWrite("active_weapon_prescaler",global.carbine_scale)
        break 
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///go invisible if in a match
event_inherited()

if in_match()
{
    visible = false
    varWrite("visible",false)
}
else
{
    visible = true
    varWrite("visible",true)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///debug
    
//if net_manager.show_cout
{

    draw_text(x,y-230,"uniqueId: "+string(varRead("uniqueId")))
    draw_text(x,y-200,string(varRead("pName"))+" ["+string(varRead("pNum"))+"]")
    if net_manager.show_cout or room = rm_lobby and rtime() &lt; room_speed*3
        printf("::: GRAVATAR "+string(varRead("pName"))+": uniqueId = "+string(varRead("uniqueId"))+", pNum = "+string(varRead("pNum"))+", x="+string(x)+", y="+string(y))
    
    if not in_match()
        event_inherited()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>30,31</point>
    <point>30,30</point>
  </PhysicsShapePoints>
</object>
